(self.webpackChunkmetadata_generator_vjs=self.webpackChunkmetadata_generator_vjs||[]).push([[99],{5874:(e,t,s)=>{(t=s(3645)(!1)).push([e.id,"\nlabel[data-v-6672d977] {\n font-weight: 700;\n min-width: 100px;\n}\n",""]),e.exports=t},6099:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const a={name:"MetadataKeyword",props:{id:{type:Number,default:-1},keyword:{type:Object,default:function(){}},type:{type:String,default:"discipline"},langs:{type:Array,default:function(){return["fr","en"]}}},created:function(){this.meta=this.keyword,this.keyword.thesaurusId>=0&&this.thesauri[this.type][this.keyword.thesaurusId]?this.meta.thesaurus=this.thesauri[this.type][this.keyword.thesaurusId]:(this.meta.thesaurusId=-1,this.meta.thesaurus=null),this.initialize(this.langs)},watch:{keyword:function(e){this.meta=this.keyword},langs:function(e){this.initialize(e)}},data:function(){return{meta:{thesaurus:{},title:{fr:null,en:null},thesaurusId:-1},enabledLangs:["fr","en"],thesauri:{discipline:[{name:"GCMD sciencekeywords",schemeUrl:"https://gcmd.earthdata.nasa.gov/kms/concepts/concept_scheme/sciencekeywords",valueRoot:"https://gcmd.earthdata.nasa.gov/kms/concept/",searchUrl:"https://gcmd.earthdata.nasa.gov/KeywordViewer/scheme/Earth%20Science?gtm_scheme=Earth%20Science",langs:["en"]},{name:"ForM@Ter - Disciplines et thèmes pour la Terre Solide",schemeUrl:"https://service.poleterresolide.fr/voc/science_field",valueRoot:"https://service.poleterresolide.fr/voc/science_field/",searchUrl:"https://service.poleterresolide.fr/voc/science_field",langs:["fr","en"]}],platform:[{name:"GCMD platforms",schemeUrl:"https://gcmd.earthdata.nasa.gov/kms/concepts/concept_scheme/platforms",valueRoot:"https://gcmd.earthdata.nasa.gov/kms/concept/",searchUrl:"https://gcmd.earthdata.nasa.gov/KeywordViewer/scheme/platforms?gtm_scheme=platforms",langs:["en"]},{name:"ForM@Ter - Plateformes",schemeUrl:"https://service.poleterresolide.fr/voc/platform",valueRoot:"https://service.poleterresolide.fr/voc/platform/",searchUrl:"https://service.poleterresolide.fr/voc/platform",langs:["fr","en"]}],variable:[{name:"GCMD sciencekeywords",schemeUrl:"https://gcmd.earthdata.nasa.gov/kms/concepts/concept_scheme/sciencekeywords",valueRoot:"https://gcmd.earthdata.nasa.gov/kms/concept/",searchUrl:"https://gcmd.earthdata.nasa.gov/KeywordViewer/scheme/Earth%20Science?gtm_scheme=Earth%20Science",langs:["en"]},{name:"ForM@Ter - Variables",schemeUrl:"https://service.poleterresolide.fr/voc/variable",valueRoot:"https://service.poleterresolide.fr/voc/variable/",searchUrl:"https://service.poleterresolide.fr/voc/variable",langs:["fr","en"]}],productType:[],featureOfInterest:[],other:[]}}},methods:{initialize:function(e){var t=this;this.meta.thesaurusId>=0?this.enabledLangs=e.filter((function(e){return t.meta.thesaurus.langs.includes(e)})):this.enabledLangs=e},remove:function(){this.$emit("remove",{type:this.type,id:this.id})},change:function(){this.$emit("change",{type:this.type,id:this.id,keyword:this.meta})},thesaurusChange:function(){this.meta.thesaurusId>=0&&this.thesauri[this.type][this.meta.thesaurusId]?this.meta.thesaurus=this.thesauri[this.type][this.meta.thesaurusId]:(this.meta.thesaurusId=-1,this.meta.thesaurus=null),this.initialize(this.langs),this.change()},trim:function(){this.meta.code=this.meta.code.trim();var e=this;this.enabledLangs.forEach((function(t){e.meta.title[t]=e.meta.title[t]?e.meta.title[t].trim():null}))}}};s(155);const r=(0,s(1900).Z)(a,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"block-element"},[t("span",{staticClass:"circle"},[e._v(e._s(e.id+1))]),e._v(" "),t("div",{staticClass:"element-content"},[t("div",{staticClass:"fa fa-close",staticStyle:{position:"absolute",top:"0",right:"3px"},on:{click:e.remove}}),e._v(" "),t("div",{staticClass:"element-field"},[t("label",[e._v("Mot-clé")]),e._v(" "),e._l(e.enabledLangs,(function(s){return t("div",{staticStyle:{"margin-left":"80px"}},[t("span",{staticClass:"label"},[e._v(e._s(s))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meta.title[s],expression:"meta.title[lang]"}],staticClass:"medium",attrs:{required:""},domProps:{value:e.meta.title[s]},on:{change:e.trim,input:function(t){t.target.composing||e.$set(e.meta.title,s,t.target.value)}}})])}))],2),e._v(" "),e.thesauri[e.type].length>0?t("div",{staticClass:"element-field"},[t("label",[e._v("Thésaurus")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.meta.thesaurusId,expression:"meta.thesaurusId"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.meta,"thesaurusId",t.target.multiple?s:s[0])},e.thesaurusChange]}},[t("option",{domProps:{value:-1}},[t("em",[e._v("Aucun")])]),e._v(" "),e._l(e.thesauri[e.type],(function(s,a){return t("option",{domProps:{value:a}},[e._v(e._s(s.name))])}))],2)]):e._e(),e._v(" "),e.meta.thesaurusId>=0?t("div",{staticClass:"element-field"},[t("label",[e._v("Code / UUID")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.meta.code,expression:"meta.code"}],staticClass:"medium",attrs:{required:""},domProps:{value:e.meta.code},on:{change:e.trim,input:function(t){t.target.composing||e.$set(e.meta,"code",t.target.value)}}}),e._v(" "),t("a",{attrs:{href:e.thesauri[e.type][e.meta.thesaurusId].searchUrl,target:"_blank"}},[t("i",{staticClass:"fa fa-search"}),e._v(" Rechercher\n       ")])]):e._e()])])}),[],!1,null,"6672d977",null).exports},155:(e,t,s)=>{var a=s(5874);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals),(0,s(5346).Z)("0fc72d6a",a,!0,{})}}]);
//# sourceMappingURL=99.metadata-generator-vjs.js.map